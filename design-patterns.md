---
title: 2020-5-15 design-patterns
tags: design-patterns, 设计模式
---


## **概念**     
+ 抽象      
+ 封装      
+ 继承      
+ 多态       

## **设计模式**     
+ 策略模式：算法。接口作为类成员变量，组合的方式实现不同行为的多态，由客户端决定使用哪种行为。      
![stargey](png/design-pattern-strategy.png)
+ 观察者模式：一对多。     
+ 可能触发意外更新，因为所有观察者都收到通知。    
+ 推/拉模型。    
+ 推模型：目标主题向观察者发送关于改变的详细信息。     
+ 拉模型：目标除最小通知外什么也不发，由观察者主动查询改变的详细信息。   
+ 在观察者注册时，扩展注册接口，显示指定特定感兴趣的事件。      
![stargey](png/design-pattern-observer.png)
+ 工厂模式： 
+ 简单工厂：一个对象负责所有具体类的实例化。     
+ 工厂方法：由一群子类负责具体类的实例化。      
+ 抽象工厂：使用抽象接口创建一组相关的产品。接口中的每个方法像工厂方法。      
![stargey](png/design-pattern-factory1.png)
![stargey](png/design-pattern-factory2.png)
+ 适配器模式：将接口转换成不同接口。      
+ 对象适配器：组合方式。     
+ 类适配器：多重继承。    
![stargey](png/design-pattern-adapter.png)
+ 外观模式：目的是简化接口，提供一个统一接口，访问子系统一群接口，目的为了让子系统更容易使用。 
+ 装饰者模式：      

## **OO原则**     
+ 封装变化，变化的部分单独用类或者虚函数抽离，考虑Head First第一章鸭子行为的例子           
+ 多用组合，少用继承       
+ 针对接口编程，不针对实现编程，考虑Head First第四章实例初始化的例子     
+ 交互对象松耦合，考虑Head First第二章气象站观察者模式             
+ 开放-关闭原则，类应该对扩展开放，对修改关闭，考虑Head First第三章定制咖啡的例子      
+ 依赖倒置原则，要依赖抽象，不要依赖具体类       
+ 最少知识原则，避免太多类相互耦合，考虑外观模式的例子        

## **对比**     
+ 组合和继承：    
+ 面向过程和面向对象：利用对象和类的关系解决需求变化的问题        
+ 抽象类和接口的区别：    
+ 工厂方法和抽象工厂的区别：都是创建对象，工厂方法用的是继承，抽象工厂用的是对象的组合     
+ 工厂方法：3种版本创建披萨：1.工厂方法，2.抽象工厂，3.面向过程      
+ 适配器模式：考虑插座适配方式      


## **参考**     
入门经典：《Head First设计模式》     
灵活生动：《大话设计模式》       